{% extends "base.html" %}

{% block title %}Lobby - Influence RPG{% endblock %}

{% block css %}
  <link rel="stylesheet" href="/static/css/lobby.css">
{% endblock %}

{% block content %}
  <div class="container lobby-container">
    <h2>Game Lobby</h2>
    <p>Welcome, <span id="user-display"></span>!</p>

    <!-- Create Character -->
    <section id="create-character-link">
	  <h3>Create New Character</h3>
	  <a href="/character/new?username={{username}}">Go to Character Creation â†’</a>
	</section>

    <!-- Character Selection -->
    <label for="character-select">Select Your Character:</label>
    <select id="character-select"></select>

    <!-- Create New Game -->
    <section id="create-game-form">
      <h3>Create New Game</h3>
      <label for="new-game-name">Game Name:</label>
      <input type="text" id="new-game-name" placeholder="Enter game name" />

      <label for="initial-details">Initial Setup Details:</label>
      <textarea id="initial-details" placeholder="Setup details..." rows="4"></textarea>

      <button id="create-game-button">Create Game</button>
      <p id="create-game-error" class="error"></p>
    </section>

    <!-- Join Existing Game -->
    <section id="join-game-form">
      <h3>Or Join Existing Game</h3>
      <button id="refresh-games-button">Refresh Game List</button>
      <div id="game-list"></div>

      <label for="join-game-id">Game ID to Join:</label>
      <input type="text" id="join-game-id" placeholder="Enter game ID" />
      <button id="join-game-button">Join Game</button>
      <p id="join-game-error" class="error"></p>
    </section>
  </div>
{% endblock %}

{% block scripts %}
  <script src="/static/js/lobby.js?v=1.0"></script>
{% endblock %}