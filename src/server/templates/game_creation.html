{% extends "base.html" %}

{% block title %}Create Game – Influence RPG{% endblock %}

{% block css %}
  <link rel="stylesheet" href="{{ url_for('static', path=asset_path('game_creation.css')) }}">
{% endblock %}

{% block content %}
  <div class="game-create-container">
    <h2>Create New Game</h2>
    <input type="hidden" id="username" value="{{username}}" />
	
	<!-- Universe selection -->
    <label for="universe-select">Universe (optional):</label>
    <select id="universe-select">
      <option value="">— None —</option>
    </select>

    <label for="character-select">Select Your Character:</label>
    <select id="character-select"></select>

    <label for="new-game-name">Game Name:</label>
    <input type="text" id="new-game-name" placeholder="Enter game name" />

	<label for="game-description">Game Description:</label>
	<textarea id="game-description" placeholder="Describe your game…" rows="4"></textarea>

	<!-- 1) Generate Prompt -->
	<button id="generate-prompt-button">Generate Initial Prompt</button>
	<p id="generate-error" class="error"></p>

	<!-- 2) Editable Prompt -->
	<div id="prompt-container" style="display:none; margin-top:1rem;">
	  <label for="generated-prompt">Generated Setup Prompt (editable):</label>
	  <textarea id="generated-prompt" rows="8" style="width:100%;"></textarea>
	  <button id="regenerate-button">Regenerate</button>
	</div>

	<!-- 3) Final Create Game -->
	<button id="create-game-button" style="display:none; margin-top:1rem;">
	  Create Game
	</button>
	<p id="create-error" class="error"></p>

  </div>
{% endblock %}

{% block scripts %}
  <script type="module" src="{{ url_for('static', path=asset_path('game_creation.js')) }}"></script>
{% endblock %}